<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>License Masters: your software Licenses&apos; Manager</title>
    <link rel="stylesheet" href="style/style.css">
    <script src="style/login_script.js"></script>
    <script src="style/addtocart.js" defer></script>
</head>

<body>
    <header>
        <div class="header_title">
            <h1 class="header_h1">License Masters</h1>
            <a href="index.html"><img src="assets/images/License_MasterLogo3.PNG" alt="License Masters"></a>
            </div>
        <nav>
            <ul>
                <li><a href="index.html" alt="Home">Home</a></li>
                <li><a href="nav2.html" alt="Shop">Shop</a></li>
                <li><a href="nav3.html" alt="About Us">About Us</a></li>
                <li><a href="nav4.html" alt="Contact Us">Contact Us</a></li>
                <li class="cart-icon"><a href="cart.html"><img src="assets/images/cart-icon.png" alt=""></a></li>
                <div class="dropdown">
                    <button class="dropbtn"> Log In </button>
                    <div class="dropdown-content">
                      <a href="#" onclick="redirectEnduser()" class="enduser"> End-user Platform </a>
                      <a href="#" onclick="redirectVendor()" class="vendor"> Vendor Platform </a>
                    </div>
                </div>
            </ul>
            
        </nav>
    </header>

    <div class="cart-page">
        <div id="cart-info">
            <p id="count">0</p>
            <p id="total">$0.00</p>
        </div>
        <div class="heading">
            <h2> Shopping Cart </h2>
        </div>
        <div id="cartItem"></div>
            <div class="total-price">
                <table>
                    <tr>
                        <td> Subtotal </td>
                        <td id="total">$0.00</td>
                    </tr>
                    <!-- Add rows for Tax and Total if needed -->
                </table>
            </div>
    </div>
</main>


    <script>
        // Function to remove a product from the cart
        function removeFromCart(index) {
            cart.splice(index, 1);
            updateCartCount();
        }

        // Function to update the cart count and display
        function updateCartCount() {
            const cartCountElement = document.getElementById('count');
            const totalElement = document.getElementById('total');
            
            cartCountElement.textContent = cart.length;

            if (cart.length === 0) {
                totalElement.textContent = '$0.00';
            } else {
                const totalPrice = cart.reduce((total, product) => total + product.price, 0);
                totalElement.textContent = `$${totalPrice.toFixed(2)}`;
            }

            displayCart();
        }

        // Function to display the items in the cart
        function displayCart() {
            const cartItemsElement = document.getElementById('cartItem');
            let cartHTML = '';

            if (cart.length === 0) {
                cartHTML = '<p>Your cart is empty.</p>';
            } else {
                cartHTML = cart.map((item, index) => {
                    return `
                        <div class="cart-item">
                            <img src="${item.image}" alt="${item.title}">
                            <p>${item.title}</p>
                            <h2>$${item.price}.00</h2>
                            <button onclick="removeFromCart(${index})">Remove</button>
                        </div>
                    `;
                }).join('');
            }

            cartItemsElement.innerHTML = cartHTML;
        }

        // Initial update of the cart count and display
        updateCartCount();
    </script>

    
    <footer>
        <p> Copyright Â© License Masters All rights Reserved.
    </footer>
    
</body>
</html>